/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package gui;

import philosophen.StateListener;
import philosophen.Zustand;

/**
 *
 * @author Dominik Messerschmidt <dominik_messerschmidt@yahoo.de>
 */
public class Window extends javax.swing.JFrame implements StateListener{

    /**
     * Creates new form GUI
     */
    public Window() {
        initComponents();
        sticks=new javax.swing.JCheckBox[]{stick0,stick1,stick2,stick3,stick4};
        philosophs=new javax.swing.JLabel[]{p0,p1,p2,p3,p4};
        progressBars=new javax.swing.JProgressBar[]{progress0,progress1,progress2,progress3,progress4};
        setSize(new java.awt.Dimension(400, 400));
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        p0 = new javax.swing.JLabel();
        p1 = new javax.swing.JLabel();
        p2 = new javax.swing.JLabel();
        p3 = new javax.swing.JLabel();
        p4 = new javax.swing.JLabel();
        stick0 = new javax.swing.JCheckBox();
        stick1 = new javax.swing.JCheckBox();
        stick2 = new javax.swing.JCheckBox();
        stick3 = new javax.swing.JCheckBox();
        stick4 = new javax.swing.JCheckBox();
        progress0 = new javax.swing.JProgressBar();
        progress1 = new javax.swing.JProgressBar();
        progress2 = new javax.swing.JProgressBar();
        progress3 = new javax.swing.JProgressBar();
        progress4 = new javax.swing.JProgressBar();
        tp = new javax.swing.JLabel();
        ep = new javax.swing.JLabel();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        getContentPane().setLayout(null);

        p0.setText("P0: THINKING");
        getContentPane().add(p0);
        p0.setBounds(40, 110, 90, 14);

        p1.setText("P1: THINKING");
        getContentPane().add(p1);
        p1.setBounds(160, 40, 90, 14);

        p2.setText("P2: THINKING");
        getContentPane().add(p2);
        p2.setBounds(260, 110, 100, 14);

        p3.setText("P3: THINKING");
        getContentPane().add(p3);
        p3.setBounds(250, 200, 100, 14);

        p4.setText("P4: THINKING");
        getContentPane().add(p4);
        p4.setBounds(60, 200, 90, 14);

        stick0.setSelected(true);
        stick0.setText("0");
        stick0.setEnabled(false);
        getContentPane().add(stick0);
        stick0.setBounds(130, 150, 40, 23);

        stick1.setSelected(true);
        stick1.setText("1");
        stick1.setEnabled(false);
        getContentPane().add(stick1);
        stick1.setBounds(140, 80, 40, 23);

        stick2.setSelected(true);
        stick2.setText("2");
        stick2.setEnabled(false);
        getContentPane().add(stick2);
        stick2.setBounds(220, 80, 40, 23);

        stick3.setSelected(true);
        stick3.setText("3");
        stick3.setEnabled(false);
        getContentPane().add(stick3);
        stick3.setBounds(230, 150, 40, 23);

        stick4.setSelected(true);
        stick4.setText("4");
        stick4.setEnabled(false);
        getContentPane().add(stick4);
        stick4.setBounds(180, 190, 40, 23);

        progress0.setToolTipText("");
        progress0.setValue(60);
        getContentPane().add(progress0);
        progress0.setBounds(30, 130, 90, 14);

        progress1.setToolTipText("");
        progress1.setValue(60);
        getContentPane().add(progress1);
        progress1.setBounds(150, 60, 90, 14);

        progress2.setToolTipText("");
        progress2.setValue(60);
        getContentPane().add(progress2);
        progress2.setBounds(260, 130, 90, 14);

        progress3.setToolTipText("");
        progress3.setValue(60);
        getContentPane().add(progress3);
        progress3.setBounds(250, 220, 90, 14);

        progress4.setToolTipText("");
        progress4.setValue(60);
        getContentPane().add(progress4);
        progress4.setBounds(60, 220, 90, 14);

        tp.setText("Thinktime: 0");
        getContentPane().add(tp);
        tp.setBounds(40, 270, 130, 14);

        ep.setText("Eattime: 0");
        getContentPane().add(ep);
        ep.setBounds(210, 270, 120, 14);

        pack();
    }// </editor-fold>//GEN-END:initComponents

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JLabel ep;
    private javax.swing.JLabel p0;
    private javax.swing.JLabel p1;
    private javax.swing.JLabel p2;
    private javax.swing.JLabel p3;
    private javax.swing.JLabel p4;
    private javax.swing.JProgressBar progress0;
    private javax.swing.JProgressBar progress1;
    private javax.swing.JProgressBar progress2;
    private javax.swing.JProgressBar progress3;
    private javax.swing.JProgressBar progress4;
    private javax.swing.JCheckBox stick0;
    private javax.swing.JCheckBox stick1;
    private javax.swing.JCheckBox stick2;
    private javax.swing.JCheckBox stick3;
    private javax.swing.JCheckBox stick4;
    private javax.swing.JLabel tp;
    // End of variables declaration//GEN-END:variables

    private final javax.swing.JCheckBox[] sticks;
    private final javax.swing.JLabel[] philosophs;
    public final javax.swing.JProgressBar[] progressBars;
    
    @Override
    public void philosophStateChanged(int id, Zustand state) {
        philosophs[id].setText("P"+id+": "+state);
        repaint();
    }

    @Override
    public void stickStateChanged(int id, boolean isFree) {
        sticks[id].setSelected(isFree);
        repaint();
    }

    @Override
    public void thinkpointsChanged(int value) {
        tp.setText("Thinktime: "+value);
    }

    @Override
    public void eatpointsChanged(int value) {
        ep.setText("Eattime: "+value);
    }
}